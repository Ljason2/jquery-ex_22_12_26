<!doctype html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>gallery2</title>
<link href="css/reset.css" rel="stylesheet">
<link rel="stylesheet" href="../test01/css/gallery.css">
<script src="../../../js/jquery-3.6.1.min.js"></script>
</head>
<body>



<!-- 전체 -->

<div id="show">
<p id="prev"><img src="img/prev.png"></p>
<p id="next"><img src="img/next.png"></p>

<div id="all">
<ul class="page">
<li><a href="#"><img src="img/page1.jpg"></a></li>
<li><a href="#"><img src="img/img_11.jpg"></a></li>
<li><a href="#"><img src="img/img_12.jpg"></a></li>
<li><a href="#"><img src="img/img_13.jpg"></a></li>
</ul>

<ul class="page">
<li><a href="#"><img src="img/page2.jpg" ></a></li>
<li><a href="#"><img src="img/img_20.jpg" ></a></li>
<li><a href="#"><img src="img/img_14.jpg" ></a></li>
<li><a href="#"><img src="img/img_11.jpg" ></a></li>
</ul>

<ul class="page">
<li><a href="#"><img src="img/page3.jpg" ></a></li>
<li><a href="#"><img src="img/img_17.jpg" ></a></li>
<li><a href="#"><img src="img/img_15.jpg" ></a></li>
<li><a href="#"><img src="img/img_16.jpg" ></a></li>
</ul>

<ul class="page">
<li><a href="#"><img src="img/page4.jpg" ></a></li>
<li><a href="#"><img src="img/img_17.jpg" ></a></li>
<li><a href="#"><img src="img/img_18.jpg" ></a></li>
<li><a href="#"><img src="img/img_19.jpg" ></a></li>
</ul>
</div>    
</div>



<script>

$(function(){
    //준비하기
    $('ul:last').prependTo('#all')
    $('#all').css('left','-800px')
    const k1=$('#all>ul').width()
    let cry;


    // 클릭하기
    $('#prev').on('click',function(e){
        $('#prev,#next').hide()
        $('#all').animate({left:"-="+k1+"px"},function(){
            $('ul:first').appendTo('#all')
            $('#all').css('left','-'+k1+'px')
            $('#prev,#next').show()
        })
    })

    $('#next').on('click',function(e){
        $('#prev,#next').hide()
        $('#all').animate({left:"+="+k1+"px"},function(){
            $('ul:last').prependTo('#all')
            $('#all').css('left','-'+k1+'px')
            $('#prev,#next').show()
        })
    })


    timer()

   // 타이머에 들어가는 함수
    function fn(){
       $('#prev,#next').hide()
        $('#all').animate({left:"+="+k1+"px"},function(){
            $('ul:last').prependTo('#all')
            $('#all').css('left','-'+k1+'px')
            $('#prev,#next').show()
        })
    
    }

    // 타이머를 실행시키는 함수
    function timer(){
        cry=setInterval(fn,2000)
    } 

    function stop(){
        clearInterval(cry)
    }


    $('ul').each(function(){
        $(this).on('mouseenter',function(){
            stop()
        })

        $(this).on('mouseleave',function(){
            timer()
        })
    })


})


</script>
</body>
</html>
